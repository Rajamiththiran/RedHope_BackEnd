generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model migrations {
  id     Int      @id @default(autoincrement())
  name   String   @db.VarChar(255)
  run_on DateTime @db.DateTime(0)
}

model hospitals {
  id           Int       @id @default(autoincrement()) @db.UnsignedInt
  name         String    @db.VarChar(255)
  address      String    @db.Text
  email        String    @unique(map: "email") @db.VarChar(255)
  phone_number String    @db.VarChar(255)
  country_code String    @db.VarChar(255)
  password     String    @db.VarChar(255)
  created_at   DateTime? @db.Timestamp(0)
  modified_at  DateTime? @db.Timestamp(0)
  deleted_at   DateTime? @db.Timestamp(0)
}

model donors {
  id               Int       @id @default(autoincrement()) @db.UnsignedInt
  name             String    @db.VarChar(255)
  email            String    @unique(map: "email") @db.VarChar(255)
  password         String    @db.VarChar(255)
  address          String    @db.Text
  phone_number     String    @db.VarChar(255)
  country_code     String    @db.VarChar(255)
  blood_type       String    @db.VarChar(255)
  donation_history String    @db.Text
  created_at       DateTime? @db.Timestamp(0)
  modified_at      DateTime? @db.Timestamp(0)
  deleted_at       DateTime? @db.Timestamp(0)
}

model requests {
  id                   Int       @id @default(autoincrement()) @db.UnsignedInt
  requester_name       String    @db.VarChar(255)
  requester_email      String    @db.VarChar(255)
  blood_type_requested String    @db.VarChar(255)
  urgency_level        String    @db.VarChar(255)
  request_date         DateTime  @default(now()) @db.Timestamp(0)
  status               String    @default("pending") @db.VarChar(255)
  description          String?   @db.Text
  phone_number         String?   @db.VarChar(255)
  country_code         String    @db.VarChar(255)
  location             String?   @db.VarChar(255)
  donor_id             Int       @db.UnsignedInt
  hospital_id          Int       @db.UnsignedInt
  created_at           DateTime? @db.Timestamp(0)
  modified_at          DateTime? @db.Timestamp(0)
  deleted_at           DateTime? @db.Timestamp(0)

  @@index([donor_id], map: "request_donor_fk")
  @@index([hospital_id], map: "request_hospital_fk")
}
